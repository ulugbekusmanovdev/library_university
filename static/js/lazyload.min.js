//$(function(){
//    $('img[data-src]').each(function(){
//        var src = $(this).data('src');
//        $(this).attr('src',src);
//    });
//})

document.addEventListener("DOMContentLoaded", function() {
  let lazyImages = [].slice.call(document.querySelectorAll("img[data-src]"));
  let active = false;

  const lazyLoad = function() {
    if (active === false) {
      active = true;

      setTimeout(function() {
        lazyImages.forEach(function(lazyImage) {
            
            
          if ((lazyImage.getBoundingClientRect().top <= window.innerHeight*3 && lazyImage.getBoundingClientRect().bottom >= 0) && getComputedStyle(lazyImage).display !== "none") {
            lazyImage.src = lazyImage.dataset.src;

            lazyImage.removeAttribute('data-src');
            //lazyImage.srcset = lazyImage.dataset.srcset;
            //lazyImage.classList.remove("lazy");

            lazyImages = lazyImages.filter(function(image) {
              return image !== lazyImage;
            });

            if (lazyImages.length === 0) {
              document.removeEventListener("scroll", lazyLoad);
              window.removeEventListener("resize", lazyLoad);
              window.removeEventListener("orientationchange", lazyLoad);
            }
          }
          
        });

        active = false;
      }, 200);
    }
  };

  document.addEventListener("scroll", lazyLoad);
  window.addEventListener("resize", lazyLoad);
  window.addEventListener("orientationchange", lazyLoad);
  lazyLoad();
});


        document.querySelectorAll('.image_box').forEach(box => {
            box.addEventListener('click', () => {
                const title = box.getAttribute('data-title');
                const desc = box.getAttribute('data-desc');
                const link = box.getAttribute('data-link');

                document.getElementById('infoTitle').textContent = title;
                document.getElementById('infoDesc').textContent = desc;
                document.getElementById('infoLink').setAttribute('href', link);

                document.querySelector('.overlay').style.display = 'flex';
            });
        });

        document.querySelector('.close_button').addEventListener('click', () => {
            document.querySelector('.overlay').style.display = 'none';
        });

        // Close the overlay when clicking outside the info box
        document.querySelector('.overlay').addEventListener('click', (event) => {
            if (event.target === document.querySelector('.overlay')) {
                document.querySelector('.overlay').style.display = 'none';
            }
        });
   